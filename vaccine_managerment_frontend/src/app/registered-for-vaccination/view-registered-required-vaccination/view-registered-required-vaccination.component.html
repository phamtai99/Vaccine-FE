<br>
<h2 class="text-center">KIỂM TRA LÂM SÀNG, TƯ VẤN VÀ KÊ ĐƠN TRƯỚC KHI TIÊM</h2>
<div class="row">
    <div class="container col-4" style="margin-top: 50px">
        <h3 class="text-center">Thông tin bệnh nhân</h3>
        <table class="table borderless" style="margin-left: 100px">
            <tbody>
                <tr>
                    <td class="title-info-patient">ID:</td>
                    <td>BN-{{vaccinationHistoryRegisteredDTOS.patientId}}</td>
                </tr>
                <tr>
                    <td class="title-info-patient">Tên bệnh nhân:</td>
                    <td>{{vaccinationHistoryRegisteredDTOS.patientName}}</td>
                </tr>
                <tr>
                    <td class="title-info-patient">Giới tính:</td>
                    <td>{{vaccinationHistoryRegisteredDTOS.patientGender}}</td>
                </tr>
                <tr>
                    <td class="title-info-patient">Ngày sinh:</td>
                    <td>{{vaccinationHistoryRegisteredDTOS.patientDob | date:'dd-MM-yyyy'}}</td>
                </tr>
                <tr>
                    <td class="title-info-patient">Người giám hộ:</td>
                    <td>{{vaccinationHistoryRegisteredDTOS.patientGuardian}}</td>
                </tr>
                <tr>
                    <td class="title-info-patient">Địa chỉ:</td>
                    <td>{{vaccinationHistoryRegisteredDTOS.patientAddress}}</td>
                </tr>
                <tr>
                    <td class="title-info-patient">Số điện thoại:</td>
                    <td>{{vaccinationHistoryRegisteredDTOS.patientPhone}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container col-8" style=" width: 95%; margin-top: 50px">
        <div>
            <form [formGroup]="formGroup" (ngSubmit)="editVaccinationHistory()">
                <div class="header_info_pre">
                    <h3> <span>Thăm khám trước khi tiêm </span></h3>
                </div>
                <div class="row   info_pre">
                    <div class="form-group col-12 col-md-6 col-xl-6">
                        <label class="label" for="vaccineType">Tên Vaccine
                <span class="text-danger ml-2">*</span>
              </label>
                        <input id="chartName" nbinput="" trim="blur" type="text" ng-reflect-status="danger" ng-reflect-trim="blur" [value]="vaccinationHistoryRegisteredDTOS.vaccineName" type="text" id="vaccineType" size="19" readonly class="form-control input1">
                    </div>
                    <div class="form-group col-12 col-md-6 col-xl-6">
                        <label class="label" for="vaccineType">Liều lượng (ml)
              <span class="text-danger ml-2">*</span>
            </label>
                        <input id="chartName" nbinput="" trim="blur" type="text" ng-reflect-status="danger" ng-reflect-trim="blur" [value]="vaccinationHistoryRegisteredDTOS.dosage" type="text" id="dosage" size="19" readonly class="form-control input1">
                    </div>
                    <div class="form-group col-12 col-md-6 col-xl-6">
                        <label class="label" for="vaccineType">Mũi tiêm
              <span class="text-danger ml-2">*</span>
            </label>
                        <input id="chartName" nbinput="" trim="blur" type="text" ng-reflect-status="danger" ng-reflect-full-width="" ng-reflect-trim="blur" [value]="vaccinationHistoryRegisteredDTOS.vaccinationTimes" type="text" id="vaccinationTimes" size="19" readonly class="form-control input1">
                    </div>
                    <div class="form-group col-12 col-md-6 col-xl-6">
                        <label class="label" for="vaccineType">Hạn Sử dụng
              <span class="text-danger ml-2">*</span>
            </label>
                        <input id="chartName" nbinput="" trim="blur" type="text" ng-reflect-status="danger" ng-reflect-trim="blur" [value]="vaccinationHistoryRegisteredDTOS.expired | date:'dd-MM-yyyy'" type="text" id="vaccinationTimes" size="19" readonly class="form-control input1">
                    </div>

                    <div class="form-group col-12 col-md-12 col-xl-12">
                        <label class="label" for="vaccineType">Tình trạng bệnh nhân trước khi tiêm
              <span class="text-danger ml-2">*</span>
            </label>

                        <textarea formControlName="afterStatus" class="form-control" rows="4" id="comment">
                </textarea>
                    </div>

                    <div class="col-auto  btnHeader" style="text-align: center; margin-left: 40%;">
                        <button type="submit" class="btn btn-primary">Xong/Cho tiêm</button>
                        <button style="margin-left: 15px; width: 90px;" type="button" class="btn btn-secondary" [routerLink]="['/registered-required-vaccination']">Huỷ</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="history">
            <h3 class="text-center">Lịch sử tiêm chủng của bệnh nhân</h3>
            <div class="historyInjection" style=" width: 85%; overflow-y: scroll; margin-top: 60px;">
                <table class="table">
                    <thead>
                        <tr>
                            <th style="width: 230px">Vắc xin đã tiêm</th>
                            <th style="width: 230px">Thời gian tiêm</th>
                            <th style="width: 430px">Tình Trạng trước khi tiêm</th>
                            <th style="width: 330px">Phản ứng sau khi tiêm</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let vac of infoPatient">
                            <div *ngIf="vac.vaccinationHistoryStatus === true then logged"></div>
                            <ng-template #logged>
                                <td>{{vac.vaccineName}}</td>
                                <td>{{ vac.startTime +' - '+vac.endTime}}</td>
                                <td>{{vac.preStatus}}</td>
                                <td>{{vac.afterStatus}}</td>
                            </ng-template>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
